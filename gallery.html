<!-- keep your existing head/header; only showing the gallery script part -->
<script>
(async function(){
  const container = document.querySelector('#gallery-grid') || document.body;
  const fallback = '/bg-car2.jpg';

  function card({title, image, alt, cta_label, wa}){
    const div = document.createElement('div');
    div.className = 'card';
    div.innerHTML = `
      <div class="card-img">
        <img src="${image || fallback}" alt="${alt || title || ''}">
      </div>
      <div class="card-body">
        <h3>${title || 'Detail'}</h3>
        <a class="btn" href="${wa || 'https://wa.me/16472440621'}" target="_blank" rel="noopener">${cta_label || 'Book'}</a>
      </div>`;
    const img = div.querySelector('img');
    img.onerror = () => { img.src = fallback; };
    return div;
  }

  try {
    const res = await fetch('/gallery.json?nocache=' + Date.now());
    const data = await res.json();
    const items = data.items || data;
    container.innerHTML = '';
    if (!items || !items.length){
      container.innerHTML = '<p>No gallery items yet. Log in at <a href="/admin/" target="_blank">/admin</a> to add some.</p>';
      return;
    }
    items.forEach(i => container.appendChild(card(i)));
  } catch(e){
    container.innerHTML = '<p>Could not load the gallery (network or JSON error).</p>';
    console.error(e);
  }
})();
</script>

<style>
/* a bit of card styling if you need it */
.card{background:#141518;border-radius:12px;overflow:hidden;box-shadow:0 0 0 1px #202226;max-width:520px;margin:12px}
.card-img img{display:block;width:100%;height:320px;object-fit:cover}
.card-body{padding:16px}
.card-body h3{margin:0 0 10px}
.btn{display:inline-block;background:#d4ad44;color:#111;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:600}
.btn:hover{filter:brightness(1.08)}
/* make cards wrap if you use a grid container: */
#gallery-grid{display:flex;flex-wrap:wrap;gap:16px}
</style>
